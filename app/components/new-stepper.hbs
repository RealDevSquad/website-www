<section class='stepper' data-test="stepper">

  {{#if (not-eq this.currentStep this.MIN_STEP)}}
    <NewJoinSteps::StepperHeader
      @heading={{this.currentHeading}}
      @subheading={{this.currentSubheading}}
      @currentStep={{this.currentStep}}
      @totalSteps={{this.MAX_STEP}}
    />
  {{/if}}

  <form class="stepper__form">
    {{#if (eq this.currentStep this.MIN_STEP)}}
      <NewJoinSteps::WelcomeScreen />

      <div class="welcome-screen__actions">
        <Reusables::Button
          @text='Start'
          @variant='dark'
          @onClick={{this.startHandler}}
          @test='start'
          @type='button'
          @disabled={{not this.joinApplicationTerms.hasUserAcceptedTerms}}
        />
      </div>

      {{else if (eq this.currentStep 1)}}
        <NewJoinSteps::NewStepOne
          @setIsPreValid={{this.setIsPreValid}}
          @isValid={{this.isValid}}
          @setIsValid={{this.setIsValid}}
        />
    {{/if}}
  </form>

  {{#if (not-eq this.currentStep this.MIN_STEP)}}
    <div class="stepper__buttons">
      {{#if this.showPreviousButton}}
        <Reusables::Button
          @text="Previous"
          @variant="light"
          @test="prev-btn"
          @type="button"
          @onClick={{this.decrementStep}}
        />
      {{else}}
        <div></div>
      {{/if}}

      <Reusables::Button
        @text="Next"
        @variant="dark"
        @test="next-btn"
        @type="button"
        @onClick={{this.incrementStep}}
        @disabled={{not (or this.preValid this.isValid)}}
      />
    </div>
  {{/if}}
</section>